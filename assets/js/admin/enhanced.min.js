jQuery(function(e){function t(){var e={formatMatches:function(e){return 1===e?ya_enhanced_select_params.i18n_matches_1:ya_enhanced_select_params.i18n_matches_n.replace("%qty%",e)},formatNoMatches:function(){return ya_enhanced_select_params.i18n_no_matches},formatAjaxError:function(){return ya_enhanced_select_params.i18n_ajax_error},formatInputTooShort:function(e,t){var n=t-e.length;return 1===n?ya_enhanced_select_params.i18n_input_too_short_1:ya_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",n)},formatInputTooLong:function(e,t){var n=e.length-t;return 1===n?ya_enhanced_select_params.i18n_input_too_long_1:ya_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",n)},formatSelectionTooBig:function(e){return 1===e?ya_enhanced_select_params.i18n_selection_too_long_1:ya_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",e)},formatLoadMore:function(){return ya_enhanced_select_params.i18n_load_more},formatSearching:function(){return ya_enhanced_select_params.i18n_searching}};return e}e(document.body).on("ya-enhanced-select-init",function(){e(":input.ya-enhanced-select, :input.chosen_select").filter(":not(.enhanced)").each(function(){var n=e.extend({minimumResultsForSearch:10,allowClear:!!e(this).data("allow_clear"),placeholder:e(this).data("placeholder")},t());e(this).select2(n).addClass("enhanced")}),e(":input.ya-enhanced-select-nostd, :input.chosen_select_nostd").filter(":not(.enhanced)").each(function(){var n=e.extend({minimumResultsForSearch:10,allowClear:!0,placeholder:e(this).data("placeholder")},t());e(this).select2(n).addClass("enhanced")}),e(":input.wc-product-search").filter(":not(.enhanced)").each(function(){var n={allowClear:!!e(this).data("allow_clear"),placeholder:e(this).data("placeholder"),minimumInputLength:e(this).data("minimum_input_length")?e(this).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{url:ya_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t,action:e(this).data("action")||"woocommerce_json_search_products_and_variations",security:ya_enhanced_select_params.search_products_nonce,exclude:e(this).data("exclude"),include:e(this).data("include"),limit:e(this).data("limit")}},results:function(t){var n=[];return t&&e.each(t,function(e,t){n.push({id:e,text:t})}),{results:n}},cache:!0}};e(this).data("multiple")===!0?(n.multiple=!0,n.initSelection=function(t,n){var a=e.parseJSON(t.attr("data-selected")),c=[];return e(t.val().split(",")).each(function(e,t){c.push({id:t,text:a[t]})}),n(c)},n.formatSelection=function(e){return'<div class="selected-option" data-id="'+e.id+'">'+e.text+"</div>"}):(n.multiple=!1,n.initSelection=function(e,t){var n={id:e.val(),text:e.attr("data-selected")};return t(n)}),n=e.extend(n,t()),e(this).select2(n).addClass("enhanced")}),e(":input.wc-customer-search").filter(":not(.enhanced)").each(function(){var n={allowClear:!!e(this).data("allow_clear"),placeholder:e(this).data("placeholder"),minimumInputLength:e(this).data("minimum_input_length")?e(this).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{url:ya_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t,action:"woocommerce_json_search_customers",security:ya_enhanced_select_params.search_customers_nonce,exclude:e(this).data("exclude")}},results:function(t){var n=[];return t&&e.each(t,function(e,t){n.push({id:e,text:t})}),{results:n}},cache:!0}};e(this).data("multiple")===!0?(n.multiple=!0,n.initSelection=function(t,n){var a=e.parseJSON(t.attr("data-selected")),c=[];return e(t.val().split(",")).each(function(e,t){c.push({id:t,text:a[t]})}),n(c)},n.formatSelection=function(e){return'<div class="selected-option" data-id="'+e.id+'">'+e.text+"</div>"}):(n.multiple=!1,n.initSelection=function(e,t){var n={id:e.val(),text:e.attr("data-selected")};return t(n)}),n=e.extend(n,t()),e(this).select2(n).addClass("enhanced")})}).on("wc_backbone_modal_before_remove",function(){e(":input.ya-enhanced-select, :input.wc-product-search, :input.wc-customer-search").select2("close")}).trigger("ya-enhanced-select-init"),e(document.body).on("ya-enhanced-color-init",function(){e("input.ya-enhanced-color").filter(":not(.enhanced)").wpColorPicker().addClass("enhanced")}).trigger("ya-enhanced-color-init"),e(document.body).on("ya-datepicker-init",function(){e("input.ya-datepicker").filter(":not(.enhanced)").datepicker().addClass("enhanced")}).trigger("ya-datepicker-init"),e(document.body).on("ya-repeater-row-added",function(){e(document.body).trigger("ya-datepicker-init")})});